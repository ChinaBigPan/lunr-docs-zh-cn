(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{356:function(t,e,n){"use strict";n.r(e);var a=n(43),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"class-query"}},[t._v("Class:Query")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://lunrjs.com/docs/lunr.Query.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("英文原地址"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"lunr-query"}},[t._v("lunr.Query()")]),t._v(" "),n("h3",{attrs:{id:"new-query"}},[n("code",[t._v("new Query()")])]),t._v(" "),n("p",[n("code",[t._v("lunr.Query")]),t._v("提供了一种编程方式来定义针对"),n("code",[t._v("lunr.Index")]),t._v("执行的查询。")]),t._v(" "),n("p",[t._v("最好使用 "),n("a",{attrs:{href:"https://lunrjs.com/docs/lunr.Index.html#query",target:"_blank",rel:"noopener noreferrer"}},[t._v("lunr.Index#query"),n("OutboundLink")],1),t._v(" 方法来构造 "),n("code",[t._v("lunr.Query")]),t._v("，这样可以使用正确的索引字段预先初始化查询对象。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("属性名")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("clauses")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}}),t._v(" "),n("td",[t._v("查询语句的数组。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("allFields")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}}),t._v(" "),n("td",[n("code",[t._v("lunr.Index")]),t._v("中所有可用字段的数组。")])])])]),t._v(" "),n("h2",{attrs:{id:"属性"}},[t._v("属性")]),t._v(" "),n("h3",{attrs:{id:"presence-number"}},[n("code",[t._v("presence:number")]),t._v(" "),n("Badge",{attrs:{text:"static"}})],1),t._v(" "),n("p",[t._v("常量，用于表示关键词在匹配文档中必须以何种形式出现。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("属性名")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("OPTIONAL")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),n("td",[t._v("关键词在文档中无论出现与否均可，默认值")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("REQUIRED")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),n("td",[t._v("关键词在文档中必须出现，不包含该关键词的文档不会返回。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("PROHIBITED")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),n("td",[t._v("关键词禁止在文档中出现，包含该关键词的文档不会返回。")])])])]),t._v(" "),n("p",[n("strong",[t._v("例子：")])]),t._v(" "),n("p",[t._v("必须存在的查询术语")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("term")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" presence"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lunr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("presence"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("REQUIRED")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("h3",{attrs:{id:"wildcard"}},[n("code",[t._v("wildcard")]),t._v(" "),n("Badge",{attrs:{text:"static"}}),n("Badge",{attrs:{text:"constant",type:"warning"}})],1),t._v(" "),n("p",[t._v("常量，用于表示在构造查询语句时自动插入哪种通配符。")]),t._v(" "),n("p",[t._v("这可以让我们将通配符添加到关键的开头和结尾，而不必手动进行任何字符串连接。")]),t._v(" "),n("p",[t._v("通配符常量可以按位组合从而选择前置通配符和后置通配符。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("属性名")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("wildcard.NONE")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),n("td",[t._v("关键词无插入通配符，默认值。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("wildcard.LEADING")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),n("td",[t._v("在关键词前加上通配符，除非已经存在前置通配符")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("wildcard.TRAILING")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),n("td",[t._v("在关键词后添加通配符，除非已经存在后置通配符")])])])]),t._v(" "),n("p",[n("strong",[t._v("例子：")])]),t._v(" "),n("p",[t._v("带有后置通配符的查询关键词")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("term")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" wildcard"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lunr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wildcard"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TRAILING")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("带有前置和后置通配符的查询关键词")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("term")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  wildcard"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lunr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wildcard"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("LEADING")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" lunr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wildcard"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TRAILING")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("h2",{attrs:{id:"方法"}},[t._v("方法")]),t._v(" "),n("h3",{attrs:{id:"clause-clause-→-lunr-query"}},[n("code",[t._v("clause(clause) → {lunr.Query}")])]),t._v(" "),n("p",[t._v("向该查询中添加一个"),n("a",{attrs:{href:"https://lunrjs.com/docs/lunr.Query.html#~Clause",target:"_blank",rel:"noopener noreferrer"}},[t._v("lunr.Query~Clause"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("p",[t._v("除非查询短语包含要匹配的字段，否则将匹配所有字段。此外，查询短语默认的权重为"),n("code",[t._v("1")]),t._v("。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("clause")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("a",{attrs:{href:"https://lunrjs.com/docs/lunr.Query.html#~Clause",target:"_blank",rel:"noopener noreferrer"}},[t._v("lunr.Query~Clause"),n("OutboundLink")],1)]),t._v(" "),n("td",[t._v("要添加到此查询的短语。")])])])]),t._v(" "),n("h3",{attrs:{id:"isnegated"}},[n("code",[t._v("isNegated()")])]),t._v(" "),n("p",[t._v("否定查询语句是指每个查询短语中都有一个禁止项。这些查询需要一些特殊的处理才能返回预期的结果。")]),t._v(" "),n("h3",{attrs:{id:"term-term-options-→-lunr-query"}},[n("code",[t._v("term(term, options) → {lunr.Query}")])]),t._v(" "),n("p",[t._v("将一个关键词添加到当前查询中，这将在组成此查询的短语列表中创建一个"),n("a",{attrs:{href:"https://lunrjs.com/docs/lunr.Query.html#~Clause",target:"_blank",rel:"noopener noreferrer"}},[t._v("lunr.Query~Clause"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("p",[t._v("该词是按照原本的样子使用的，也就是说，这种方法不会进行关键词化。相反，应该在调用此方法之前转换为关键词或类似于关键词的字符串。")]),t._v(" "),n("p",[t._v("关键词将通过"),n("code",[t._v("toString")]),t._v("转换为字符串。多个关键词可以通过一个数组传递，数组中的每个关键词都将共享相同的配置项。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("term")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("object 或 object[]")]),t._v(" "),n("td"),t._v(" "),n("td",[t._v("要添加到查询中的关键词。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("options")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("object")]),t._v(" "),n("td",[t._v("可选")]),t._v(" "),n("td",[t._v("添加到查询短语中的额外属性。")])])])]),t._v(" "),n("p",[n("strong",[t._v("例子：")])]),t._v(" "),n("p",[t._v("添加单个关键词。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("term")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("向查询中添加单个关键词，并指定搜索字段、关键词权重提升和自动后置通配符。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("term")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  fields"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  boost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  wildcard"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lunr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wildcard"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TRAILING")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("p",[t._v("在将字符串用作关键词之前，使用"),n("code",[t._v("lunr.tokenizer")]),t._v("将其转换为搜索关键词。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("term")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lunr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("tokenizer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo bar"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("h2",{attrs:{id:"类型定义"}},[t._v("类型定义")]),t._v(" "),n("h3",{attrs:{id:"clause-object"}},[n("code",[t._v("Clause:Object")])]),t._v(" "),n("p",[t._v("c\n"),n("code",[t._v("lunr.Query")]),t._v("中的短语包含了关键词以及关于如何将该关键词与"),n("code",[t._v("lunr.Index")]),t._v("匹配的详细信息。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("对象属性")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("fields")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}}),t._v(" "),n("td",{staticStyle:{"text-align":"center"}}),t._v(" "),n("td",{staticStyle:{"text-align":"center"}}),t._v(" "),n("td",[t._v("索引中该短语中的字段应该被匹配。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("boost")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("可选")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("1")])]),t._v(" "),n("td",[t._v("匹配该短语时应该使用的权重提升。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("editDistance")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("可选")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}}),t._v(" "),n("td",[t._v("关键词是否应该应用模糊匹配，以及匹配应该有多模糊。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("usePipeline")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("可选")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}}),t._v(" "),n("td",[t._v("关键词是否应该通过搜索管道传递。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("wildcard")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("可选")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("lunr.Query.wildcard.NONE")])]),t._v(" "),n("td",[t._v("关键词是否应该有前置或后置通配符。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("presence")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("可选")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("lunr.Query.presence.OPTIONAL")])]),t._v(" "),n("td",[t._v("该关键词出现在任何匹配的文档中。")])])])])])}),[],!1,null,null,null);e.default=s.exports}}]);